<rs:RSUserControl
    x:Class="RS.HMI.Client.Views.Areas.UserView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:RS.HMI.Client.Views.Areas"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:rs="https://github.com/luo-ross/Widgets"
    x:Name="this"
    d:DataContext="{d:DesignInstance Type=local:UserViewModel}"
    d:DesignHeight="450"
    d:DesignWidth="800"
    mc:Ignorable="d">
    <GroupBox>
        <GroupBox.Header>
            <Grid>
                <TextBlock Text="用户管理" />
            </Grid>
        </GroupBox.Header>

        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition />
                <ColumnDefinition Width="auto" />
            </Grid.ColumnDefinitions>
            <rs:RSDataGrid
                x:Name="UserDataGrid"
                Grid.Column="0"
                AddClickCommand="{Binding AddClickCommand}"
                DeleteClickCommand="{Binding DeleteClickCommand}"
                DetailsClickCommand="{Binding DetailsClickCommand}"
                ExportClickCommand="{Binding ExportClickCommand}"
                ItemsSource="{Binding UserModelList, UpdateSourceTrigger=PropertyChanged}"
                PaginationCommand="{Binding PaginationCommand}"
                SelectedItem="{Binding UserModelSelect}"
                UpdateClickCommand="{Binding UpdateClickCommand}"
                VirtualizingPanel.IsVirtualizing="True">
                <rs:RSDataGrid.Columns>
                    <DataGridTextColumn Binding="{Binding Email}" Header="用户" />
                    <DataGridTextColumn Binding="{Binding NickName}" Header="昵称" />
                    <DataGridTemplateColumn Header="是否禁用">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <CheckBox IsChecked="{Binding IsDisabled, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    <DataGridTextColumn Width="*" />
                </rs:RSDataGrid.Columns>
            </rs:RSDataGrid>
            <Border
                Grid.Column="1"
                BorderBrush="#eee"
                BorderThickness="1,0,0,0">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="auto" />
                        <RowDefinition />
                        <RowDefinition Height="auto" />
                    </Grid.RowDefinitions>
                    <StackPanel Grid.Row="0">
                        <Button
                            HorizontalAlignment="Stretch"
                            Command="{Binding AddClickCommand}"
                            CommandParameter="{Binding UserModelList}"
                            Style="{StaticResource RSApp.Styles.DefaultButton}"
                            ToolTip="快捷键Alt+A">
                            <Button.Content>
                                <TextBlock>
                                    <Run Text="新增数据(" />
                                    <Run Text="A" TextDecorations="Underline" />
                                    <Run Text=")" />
                                </TextBlock>
                            </Button.Content>
                        </Button>
                        <Button
                            HorizontalAlignment="Stretch"
                            Command="{Binding DeleteClickCommand}"
                            CommandParameter="{Binding ElementName=UserDataGrid, Path=SelectedItem}"
                            Style="{StaticResource RSApp.Styles.DefaultButton}"
                            ToolTip="快捷键Alt+D">
                            <Button.Content>
                                <TextBlock>
                                    <Run Text="删除数据(" />
                                    <Run Text="D" TextDecorations="Underline" />
                                    <Run Text=")" />
                                </TextBlock>
                            </Button.Content>
                        </Button>
                        <Button
                            HorizontalAlignment="Stretch"
                            Command="{Binding UpdateClickCommand}"
                            CommandParameter="{Binding ElementName=UserDataGrid, Path=SelectedItem}"
                            Style="{StaticResource RSApp.Styles.DefaultButton}"
                            ToolTip="快捷键Alt+U">
                            <Button.Content>
                                <TextBlock>
                                    <Run Text="修改数据(" />
                                    <Run Text="U" TextDecorations="Underline" />
                                    <Run Text=")" />
                                </TextBlock>
                            </Button.Content>
                        </Button>
                        <Button
                            HorizontalAlignment="Stretch"
                            Command="{Binding DetailsClickCommand}"
                            CommandParameter="{Binding ElementName=UserDataGrid, Path=SelectedItem}"
                            Style="{StaticResource RSApp.Styles.DefaultButton}"
                            ToolTip="快捷键Alt+V">
                            <Button.Content>
                                <TextBlock>
                                    <Run Text="查看数据(" />
                                    <Run Text="V" TextDecorations="Underline" />
                                    <Run Text=")" />
                                </TextBlock>
                            </Button.Content>
                        </Button>
                    </StackPanel>

                    <StackPanel Grid.Row="2">
                        <Button
                            HorizontalAlignment="Stretch"
                            Command="{Binding CloseClickCommand}"
                            Style="{StaticResource RSApp.Styles.DefaultButton}"
                            ToolTip="快捷键Alt+C">
                            <Button.Content>
                                <TextBlock>
                                    <Run Text="关闭(" />
                                    <Run Text="C" TextDecorations="Underline" />
                                    <Run Text=")" />
                                </TextBlock>
                            </Button.Content>
                        </Button>
                    </StackPanel>
                </Grid>
            </Border>
        </Grid>


    </GroupBox>
</rs:RSUserControl>
